function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var c=t[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"01KP":function(e,t,i){"use strict";i.r(t),i.d(t,"NoticesPageModule",(function(){return _}));var c=i("ofXK"),n=i("3Pt+"),o=i("tyNb"),a=i("TEn/"),r=i("pwB6"),s=i("fXoL"),l=i("0IaG"),h=i("7EHt"),u=i("sYmb"),d=["yocameraelement"];function g(e,t){if(1&e){var i=s.ic();s.hc(0,"ion-buttons",5),s.hc(1,"ion-button",6),s.pc("click",(function(){return s.Nc(i),s.tc().navigate("addnotice",{})})),s.cc(2,"ion-icon",7),s.gc(),s.gc()}}function f(e,t){if(1&e&&s.cc(0,"img",26),2&e){var i=s.tc().$implicit;s.Cc("src",i.image,s.Pc)}}function p(e,t){if(1&e){var i=s.ic();s.hc(0,"div",29),s.hc(1,"div"),s.hc(2,"img",30),s.pc("click",(function(){s.Nc(i);var e=t.$implicit;return s.tc(3).ygen.openimage(e.src,"need to be upload")})),s.gc(),s.gc(),s.hc(3,"span"),s.hc(4,"ion-button",31),s.pc("click",(function(){s.Nc(i);var e=t.$implicit;return s.tc(3).deletephoto(e)})),s.cc(5,"ion-icon",32),s.gc(),s.hc(6,"ion-button",33),s.pc("click",(function(){s.Nc(i);var e=t.$implicit;return s.tc(3).savePhoto(e)})),s.cc(7,"ion-icon",34),s.gc(),s.gc(),s.gc()}if(2&e){var c=t.$implicit;s.Ob(2),s.Cc("src",c.src,s.Pc)}}function v(e,t){if(1&e){var i=s.ic();s.hc(0,"ion-button",31),s.pc("click",(function(){s.Nc(i);var e=s.tc().$implicit,t=s.tc(2).$implicit;return s.tc().deletesaved(e,t.$key)})),s.cc(1,"ion-icon",32),s.gc()}}function m(e,t){if(1&e){var i=s.ic();s.hc(0,"div",29),s.hc(1,"div"),s.hc(2,"img",30),s.pc("click",(function(){s.Nc(i);var e=t.$implicit;return s.tc(3).ygen.openimage(e.value.photo,"")})),s.gc(),s.gc(),s.hc(3,"span"),s.Vc(4,v,2,0,"ion-button",35),s.gc(),s.gc()}if(2&e){var c=t.$implicit,n=s.tc(3);s.Ob(2),s.Dc("src",c.value.photo,s.Pc),s.Ob(2),s.Cc("ngIf",n.ygen.canI(c.createdBy,"notice"))}}function y(e,t){if(1&e&&(s.hc(0,"div",27),s.Vc(1,p,8,1,"div",28),s.Vc(2,m,5,2,"div",28),s.uc(3,"keyvalue"),s.gc()),2&e){var i=s.tc().$implicit,c=s.tc();s.Ob(1),s.Cc("ngForOf",c.getstrip(i.$key,c.mystrip)),s.Ob(1),s.Cc("ngForOf",s.vc(3,2,i.images))}}function b(e,t){1&e&&(s.hc(0,"div"),s.Xc(1),s.uc(2,"translate"),s.gc()),2&e&&(s.Ob(1),s.Zc(" ",s.vc(2,1,"No Addtional Photos, click photos icon to add it"),". "))}function w(e,t){if(1&e){var i=s.ic();s.hc(0,"div",17),s.hc(1,"app-appicon",18),s.pc("actionEvent",(function(){s.Nc(i);var e=s.tc().$implicit;return s.tc().delete(e)})),s.gc(),s.gc()}2&e&&(s.Ob(1),s.Cc("color","accent")("icon","delete")("icontext","Delete")("isiconwithtext",!0))}function k(e,t){if(1&e){var i=s.ic();s.hc(0,"div",17),s.hc(1,"app-yocamera",36,37),s.pc("imagetobeuploaded",(function(e){s.Nc(i);var t=s.tc().$implicit;return s.tc().showpreview(e,t.$key)})),s.gc(),s.gc()}if(2&e){var c=s.tc().$implicit;s.Ob(1),s.Cc("whatkey",c.$key)}}function C(e,t){if(1&e){var i=s.ic();s.hc(0,"ion-card"),s.Vc(1,f,1,1,"img",8),s.hc(2,"div",9),s.Vc(3,y,4,4,"div",10),s.gc(),s.Vc(4,b,3,3,"ng-template",null,11,s.Wc),s.hc(6,"ion-item",12),s.pc("click",(function(){s.Nc(i);var e=t.$implicit;return s.tc().navigate("addnotice",{key:e.$key})})),s.hc(7,"ion-label",13),s.Xc(8),s.hc(9,"p"),s.Xc(10),s.uc(11,"date"),s.gc(),s.gc(),s.gc(),s.hc(12,"ion-item"),s.hc(13,"mat-expansion-panel",14),s.hc(14,"mat-expansion-panel-header"),s.hc(15,"mat-panel-title"),s.Xc(16," Actions "),s.gc(),s.gc(),s.hc(17,"div",15),s.Vc(18,w,2,4,"div",16),s.Vc(19,k,3,1,"div",16),s.hc(20,"div",17),s.hc(21,"app-appicon",18),s.pc("actionEvent",(function(){return s.Nc(i),s.tc().ygen.shareMessage("dada","","")})),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(22,"ion-card-content"),s.Xc(23),s.gc(),s.hc(24,"ion-item"),s.hc(25,"div",19),s.hc(26,"div",20),s.hc(27,"div",21),s.Xc(28,"Creator"),s.gc(),s.hc(29,"div",22),s.Xc(30),s.gc(),s.gc(),s.hc(31,"div",23),s.hc(32,"div",24),s.cc(33,"app-callphone",25),s.gc(),s.gc(),s.gc(),s.gc(),s.gc()}if(2&e){var c=t.$implicit,n=s.tc();s.Ob(1),s.Cc("ngIf",c.imageuploaded),s.Ob(2),s.Cc("ngIf",n.getstrip(c.$key,n.mystrip).length>0||c.images),s.Ob(5),s.Zc(" ",c.title,""),s.Ob(2),s.Yc(s.wc(11,13,c.startdate,"MMM dd yyyy hh:mm a")),s.Ob(8),s.Cc("ngIf",n.ygen.canI("","notice")),s.Ob(1),s.Cc("ngIf",n.refreshme&&n.ygen.canI("","notice")),s.Ob(2),s.Cc("color","primary")("icon","share")("icontext","share")("isiconwithtext",!0),s.Ob(2),s.Zc(" ",c.description," "),s.Ob(7),s.Zc(" ",c.contactname," "),s.Ob(3),s.Cc("mobile",null==c?null:c.contactnumber)}}var O,x,P=[{path:"",component:(O=function(){function e(t,i,c,n,o,a,s,l,h){_classCallCheck(this,e),this.ycamera=t,this.ygen=i,this.alertme=c,this.route=n,this.router=o,this.boardService=a,this.ysharedata=s,this.ydata=l,this.dialog=h,this.imagescapturedComp=new Map,this.screenrefresh=!0,this.mystrip=[],this.showre=!1,this.sourcere="",this.refreshme=!1,this.crudList=new r.p("/board/notices",l.getDatabase(),!0,this.ygen.getUid()),this.events=this.crudList.getList(),this.crudData=new r.p("/items",l.getDatabase(),!1,this.ygen.getUid()),this.settingItems=this.crudData.getData()}return _createClass(e,[{key:"ngOnInit",value:function(){this.refreshCamera()}},{key:"viewEntry",value:function(e){e.registration&&Object.keys(e.registration).map((function(t){return Object.assign(e.registration[t],{$key:t})}))}},{key:"navigate",value:function(e,t){this.ysharedata.setData("currentevent",t),this.router.navigate([e],{queryParams:t})}},{key:"takeAcion",value:function(e){console.log("yeah",e)}},{key:"doit",value:function(e,t){var i=this;setTimeout((function(){i.crudList.updateList(t?{$key:e.$key,active:!0,eventOver:!1}:{$key:e.$key,active:!1})}),1e3)}},{key:"closeEvent",value:function(e){var t=this;this.screenrefresh=!1,this.alertme.question("Are You Sure?","Close Event","No").then((function(i){i.value&&setTimeout((function(){t.crudList.updateList({$key:e.$key,active:!1,eventOver:!0})}),1e3),t.screenrefresh=!0}))}},{key:"active",value:function(e){var t=this;this.alertme.question("Are You Sure?","Activate Notice","No").then((function(i){i.value&&t.doit(e,!0)}))}},{key:"inactive",value:function(e){var t=this;this.alertme.question("Are You Sure?","Disable Notice","No").then((function(i){i.value&&t.doit(e,!1)}))}},{key:"edit",value:function(e){var t=this;this.alertme.question("Are You Sure?","Delete","No").then((function(i){i.value&&t.crudList.removefromList(e)}))}},{key:"delete",value:function(e){var t=this;this.alertme.question("Are You Sure?","Delete","No").then((function(i){i.value&&setTimeout((function(){t.crudList.removefromList(e)}),1e3)}))}},{key:"showpreview",value:function(e,t){console.log("event",e),console.log("key",t),this.showre=!0,this.sourcere=e,this.mystrip.push(e)}},{key:"getstrip",value:function(e,t){var i=t.filter((function(t){return t.whatfor===e}));return console.log(i.length),i}},{key:"deletfromStrip",value:function(e){this.mystrip=this.mystrip.filter((function(t){return t.whatfor!=e}))}},{key:"deletephoto",value:function(e){this.deletfromStrip(e.whatfor),this.refreshCamera()}},{key:"refreshCamera",value:function(){var e=this;this.refreshme=!1,setTimeout((function(){e.refreshme=!0}),100)}},{key:"savePhoto",value:function(e){var t=this;this.refreshCamera(),this.ygen.ismobile()?(this.alertme.infodata("Uploading and saving photo.."),this.yocam.saveMobileImage(e.src).then((function(i){console.log("what we have recieved image 1 "+i),console.log("what we have recieved image 1 "+i);var c=JSON.parse(i.response);console.log("we got the url...."+i.response),console.log("we got the url...."+c.secure_url),t.addImages(e.whatfor,{photo:c.secure_url}),t.deletephoto(e),t.alertme.successdata("Saved...")}))):this.yocam.saveImage(e.files).then((function(i){console.log("what we have recieved image 2 "+i.secure_url),t.addImages(e.whatfor,{photo:i.secure_url}),t.deletephoto(e)}))}},{key:"addImages",value:function(e,t){new r.p("/board/notices/"+e+"/images",this.ydata.getDatabase(),!0,this.ygen.getUid()).addtolist(t)}},{key:"deletesaved",value:function(e,t){var i=this;this.alertme.question("Are You Sure?","Delete","No").then((function(c){c.value&&new r.p("/board/notices/"+t+"/images",i.ydata.getDatabase(),!0,i.ygen.getUid()).removefromList({$key:e.key})}))}}]),e}(),O.\u0275fac=function(e){return new(e||O)(s.bc(r.N),s.bc(r.T),s.bc(r.a),s.bc(o.a),s.bc(o.j),s.bc(r.i),s.bc(r.R),s.bc(r.Q),s.bc(l.b))},O.\u0275cmp=s.Vb({type:O,selectors:[["app-notices"]],viewQuery:function(e,t){var i;1&e&&(s.ed(d,!0),s.ed(d,!0)),2&e&&(s.Jc(i=s.qc())&&(t.yocam=i.first),s.Jc(i=s.qc())&&(t.yocamViewChildren=i))},decls:10,vars:5,consts:[[3,"color"],["slot","start"],["slot","end","color","secondary",4,"ngIf"],["padding",""],[4,"ngFor","ngForOf"],["slot","end","color","secondary"],[3,"click"],["slot","icon-only","name","add"],["class","imageshow",3,"src",4,"ngIf"],[1,"roll"],["id","scrolly",4,"ngIf"],["nophotos",""],["button","",3,"click"],[1,"ion-text-wrap"],[2,"width","100%"],[1,"container"],["class","item",4,"ngIf"],[1,"item"],[3,"color","icon","icontext","isiconwithtext","actionEvent"],[1,"infocontainer"],[1,"item","atstart"],[1,"whatlable"],[1,"forlable"],[1,"item","atend"],[2,"float","right","padding","5px"],[3,"mobile"],[1,"imageshow",3,"src"],["id","scrolly"],["class","imgds",4,"ngFor","ngForOf"],[1,"imgds"],[1,"imgc",3,"src","click"],["color","danger","size","small",1,"delete",3,"click"],["slot","icon-only","name","trash"],["size","small",1,"save",3,"click"],["slot","icon-only","name","save"],["color","danger","size","small","class","delete",3,"click",4,"ngIf"],[3,"whatkey","imagetobeuploaded"],["yocameraelement",""]],template:function(e,t){1&e&&(s.hc(0,"ion-header"),s.hc(1,"ion-toolbar",0),s.hc(2,"ion-buttons",1),s.cc(3,"ion-back-button"),s.gc(),s.hc(4,"ion-title"),s.Xc(5,"Notices"),s.gc(),s.Vc(6,g,3,0,"ion-buttons",2),s.gc(),s.gc(),s.hc(7,"ion-content",3),s.Vc(8,C,34,16,"ion-card",4),s.uc(9,"async"),s.gc()),2&e&&(s.Ob(1),s.Cc("color","warning"),s.Ob(5),s.Cc("ngIf",t.ygen.canI("","notice")),s.Ob(2),s.Cc("ngForOf",s.vc(9,3,t.events)))},directives:[a.y,a.hb,a.j,a.f,a.g,a.fb,c.m,a.s,c.l,a.i,a.z,a.k,a.D,a.J,h.c,h.f,h.g,r.f,a.l,r.j,r.X],pipes:[c.b,c.e,c.g,u.c],styles:["table[_ngcontent-%COMP%]{width:100%}.example-icon[_ngcontent-%COMP%]{padding:0 14px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-dialog-container[_ngcontent-%COMP%]{padding:0}.dada[_ngcontent-%COMP%]{position:absolute;width:375px;height:594px;left:-161.02px;top:471.39px;background:#f41515;border-radius:56px;transform:rotate(-50.6deg)}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:100%}.item[_ngcontent-%COMP%]{flex-grow:1}.infocontainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:100%}.atstart[_ngcontent-%COMP%]{align-self:flex-start}.atend[_ngcontent-%COMP%]{align-self:flex-end}mat-expansion-panel[_ngcontent-%COMP%]{background:#eff7f6}.imageshow[_ngcontent-%COMP%]{max-height:300px;max-width:500px;height:auto;width:auto;margin:auto;padding-bottom:10px}.addphotos[_ngcontent-%COMP%]{padding:0}#scrolly[_ngcontent-%COMP%]{width:100%;height:120px;overflow:auto;overflow-y:hidden;margin:0 auto;white-space:nowrap;display:inline-flex}.imgc[_ngcontent-%COMP%]{height:100px;width:100px;margin:2px 1px;display:inline;border:1px solid #ddd;border-radius:4px;padding:5px}.roll[_ngcontent-%COMP%]{background-color:#000;padding:5px}.imgds[_ngcontent-%COMP%]{height:100px;display:inline}.imagearea[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:hidden;-webkit-overflow-scrolling:touch;display:-webkit-inline-box;border:#0f03f4;border-style:solid;border-width:2px}.delete[_ngcontent-%COMP%], .save[_ngcontent-%COMP%]{position:relative;top:-37px}.whatlable[_ngcontent-%COMP%]{font-size:12px;font-family:cursive}"]}),O)}],_=((x=function e(){_classCallCheck(this,e)}).\u0275mod=s.Zb({type:x}),x.\u0275inj=s.Yb({factory:function(e){return new(e||x)},imports:[[c.c,n.j,a.ib,r.H,r.o,r.b,o.n.forChild(P)]]}),x)}}]);