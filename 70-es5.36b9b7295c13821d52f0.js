function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{fhSy:function(e,t,i){"use strict";i.r(t),i.d(t,"RegisterPageModule",(function(){return b}));var n=i("ofXK"),r=i("3Pt+"),a=i("tyNb"),o=i("TEn/"),s=i("pwB6"),c=i("DVUX"),l=i("wd/R"),d=i("fXoL"),h=i("Wp6s"),u=i("sYmb");function p(e,t){if(1&e){var i=d.ic();d.hc(0,"ion-row",5),d.hc(1,"ion-col"),d.hc(2,"ion-item"),d.hc(3,"ion-label",6),d.Xc(4,"Profile Image URL"),d.gc(),d.hc(5,"ion-input",7),d.pc("ionInput",(function(e){return d.Nc(i),d.tc().setimageurl(e)})),d.gc(),d.gc(),d.gc(),d.gc()}}function m(e,t){if(1&e){var i=d.ic();d.hc(0,"ion-row",5),d.hc(1,"form",8),d.hc(2,"h3"),d.Xc(3,"Change your current password"),d.gc(),d.hc(4,"ion-col"),d.hc(5,"ion-item"),d.hc(6,"ion-label",6),d.Xc(7,"New Password"),d.gc(),d.cc(8,"ion-input",9),d.gc(),d.hc(9,"ion-item"),d.hc(10,"ion-label",6),d.Xc(11,"Confirm Password"),d.gc(),d.cc(12,"ion-input",10),d.gc(),d.hc(13,"ion-text",11),d.hc(14,"p",12),d.Xc(15," Confirm Password is not matching with new Password "),d.gc(),d.gc(),d.hc(16,"ion-item"),d.hc(17,"ion-button",13),d.pc("click",(function(){return d.Nc(i),d.tc().updatepassword()})),d.Xc(18,"Set New Password"),d.gc(),d.gc(),d.gc(),d.gc(),d.gc()}if(2&e){var n=d.tc();d.Ob(1),d.Cc("formGroup",n.userpassword),d.Ob(13),d.Cc("hidden",!(n.userpassword.errors&&n.userpassword.errors.passwordsNotEqual&&n.userpassword.controls.confirmpassword.touched)),d.Ob(3),d.Cc("disabled",!n.userpassword.valid)}}function g(e,t){if(1&e){var i=d.ic();d.hc(0,"yogagainv2-dyanamic-page",14),d.pc("actionEvent",(function(e){return d.Nc(i),d.tc().send(e)}))("cancelEvent",(function(e){return d.Nc(i),d.tc().cancel(e)})),d.gc()}if(2&e){var n=d.tc();d.Cc("captchaOn",n.needcaptcha)("captchaName","registercaptcha")("whatform",n.whatcontrolsmap)("whatformgroup",n.inwhatformgroup)("whichbuttons",n.mybuttons)}}function w(e){return e.controls.newpassword.value===e.controls.confirmpassword.value?null:{passwordsNotEqual:!0}}var f,y,v=[{path:"",component:(f=function(){function e(t,i,n,a,o,s,c,l,d,h,u,p){_classCallCheck(this,e),this.yovalservice=t,this.yobuilderservice=i,this.ynotification=n,this.ydataservice=a,this.toasterService=o,this.yauthservice=s,this.ystorageservice=c,this.ydatashareservice=l,this.router=d,this.route=h,this.zone=u,this.ygen=p,this.overrideiamge="",this.whatcontrolsmap=new Map,this.clear=!1,this.needcaptcha=!1,this.title="Register Profile",this.mybuttons=new Map,this.loadingindicator=!1,this.userpassword=new r.h({newpassword:new r.e("",r.y.compose([r.y.required,r.y.maxLength(20)])),confirmpassword:new r.e("",r.y.compose([r.y.required,r.y.maxLength(20)]))},{validators:w}),this.ynotification.registertoken(),location}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"callform",value:function(){console.log(this.userpassword)}},{key:"updatepassword",value:function(){this.yauthservice.updateCurrentPassword(this.userpassword.value.newpassword)}},{key:"setimageurl",value:function(e){this.overrideiamge=e.target.value}},{key:"ionViewWillEnter",value:function(){var e=this;this.newuser=null,this.clear=!1,this.edittenant=void 0;var t=this.route.snapshot.paramMap.get("id");this.zone.run((function(){t?(e.needcaptcha=!1,e.ydataservice.retrivedata("/profiles",t).subscribe((function(t){e.edittenant=t,e.startObject(e.edittenant)}))):(e.needcaptcha=!0,e.startObject(e.edittenant))}))}},{key:"startObject",value:function(e){e&&(this.title="Edit Profile");var t=new Map,i=[],n=0;i[n]=new s.W(n,"photo","https://res.cloudinary.com/ideasyogi/image/upload/v1589964651/default_qkhcdj.jpg",s.V.image),i[n].placeholder="Profile Picture",i[n].required=!0,n++,this.yauthservice.isLoggedIn()||(i[n]=new s.W(n,"userid","",s.V.email),i[n].placeholder="Enter Profile Email",i[n].hint="It will be Profile user Name",i[n].enabled=!0,i[n].showme=!0,i[++n]=new s.W(n,"password","",s.V.password),i[n].placeholder="Enter Profile Password",i[n].hint="Its Profile 6 digit password",n++),i[n]=new s.W(n,"userName","",s.V.text),i[n].placeholder="Enter Your Name",i[++n]=new s.W(n,"mobile","",s.V.phone),i[n].placeholder="Enter Profile Phone",i[++n]=new s.W(n,"unitName","",s.V.text),i[n].placeholder="Building / House name",i[n].required=!0,i[n].showme=!0,i[++n]=new s.W(n,"address","",s.V.textarea),i[n].placeholder="Address",i[n].enabled=!0,i[n].required=!0,i[n].showme=!0,i[++n]=new s.W(n,"city","",s.V.text),i[n].placeholder="Enter Profile City you live in",i[n].hint="The city you will live in",i[n].enabled=!0,i[n].required=!0,i[n].showme=!0,i[++n]=new s.W(n,"zip","",s.V.number),i[n].placeholder="Enter Zip for City you live in",i[n].hint="Enter Zip for City you live in",i[n].enabled=!0,i[n].required=!0,i[n].showme=!0,i[++n]=new s.W(n,"state","",s.V.text),i[n].placeholder="Enter your state",i[n].hint="Enter State you leave in",i[n].enabled=!0,i[n].required=!0,i[n].showme=!0,i[++n]=new s.W(n,"country",s.T.currentcountry,s.V.country),i[n].placeholder="Enter Profile Country",i[n].enabled=!0,i[n].required=!0,i[n].showme=!0,i[++n]=new s.W(n,"profileid",this.randomletter()+this.randomletter()+~~(1e3*Math.random()),s.V.text),i[n].placeholder="Profile ID",i[n].hint="Profile ID",i[n].enabled=!0,i[n].showme=!1,i[n].required=!1,i[++n]=new s.W(n,"emailVerified",!1,s.V.slidetoggle),i[n].placeholder="Email verified",i[n].enabled=!0,i[n].showme=!!this.yauthservice.isAdmin(),i[n].required=!1,i[++n]=new s.W(n,"mobileVerified",!1,s.V.slidetoggle),i[n].placeholder="Mobile verified",i[n].enabled=!0,i[n].showme=!!this.yauthservice.isAdmin(),i[n].required=!1,i[++n]=new s.W(n,"approved",!1,s.V.slidetoggle),i[n].placeholder="Approved",i[n].enabled=!0,i[n].showme=!!this.yauthservice.isAdmin(),i[n].required=!1,i[++n]=new s.W(n,"paid",!1,s.V.slidetoggle),i[n].placeholder="Paid",i[n].enabled=!0,i[n].showme=!!this.yauthservice.isAdmin(),i[n].required=!1,i[++n]=new s.W(n,"isadmin",!1,s.V.slidetoggle),i[n].placeholder="Is A Admin",i[n].enabled=!0,i[n].showme=!!this.yauthservice.isAdmin(),i[n].required=!1,i[++n]=new s.W(n,"createdBy",!1,s.V.text),i[n].placeholder="createdBy",i[n].enabled=!1,i[n].showme=!!this.yauthservice.isAdmin(),i[n].required=!1,i[++n]=new s.W(n,"updatedBy",!1,s.V.text),i[n].placeholder="updatedBy",i[n].enabled=!1,i[n].showme=!!this.yauthservice.isAdmin(),i[n].required=!1,e&&(i[++n]=new s.W(n,"key",e.key,s.V.text),i[n].enabled=!1,i[n].showme=!1,i[n].required=!1),i.forEach((function(i){if(e){var n=e[i.name];i.whattype!==s.V.radio&&i.whattype!==s.V.select?(i.value=n,i.whattype==s.V.date&&n&&(i.value=new Date(n))):i.value.selected=n.hasOwnProperty("selected")?n.selected:n,t.set(i.name,i)}else t.set(i.name,i)})),this.inwhatformgroup=this.yobuilderservice.createFormGroup(t),this.whatcontrolsmap=this.yobuilderservice.createMap(t,this.inwhatformgroup);var r="Register User";e&&(r="Save User");var a=new s.A("Cancel","cancel","cancel_presentation","secondary",!1),o=new s.A(r,"register","lock_open","primary",!1);this.mybuttons.set("Action2",o),this.mybuttons.set("Action1",a),this.clear=!0}},{key:"randomletter",value:function(){return"ABCDEFGHIJKLMNOPQURSTUVWXYZ".split("")[Math.floor(26*Math.random())]}},{key:"send",value:function(e){console.log("capturing events",e),Object.keys(e.data.value).forEach((function(t){var i=e.data.value[t];i.hasOwnProperty("selected")&&i.hasOwnProperty("options")&&(e.data.value[t]=i.selected)})),this.overrideiamge.length>0&&this.ygen.isLoggedIn()&&this.ygen.isAdmin()&&Object.assign(e.data.value,{photo:this.overrideiamge}),Object.assign(e.data.value,{verifiedmember:!1}),this.edittenant?this.ydataservice.updateMartimonialProfile(e.data.value):this.yauthservice.isLoggedIn()?this.registerNewUserBy(e.data.value):this.registerNewUser(e.data.value)}},{key:"cancel",value:function(e){console.log("canceling events",e),this.clear=!1,this.edittenant&&this.ygen.isTenantSelection()?this.router.navigateByUrl("/shoplanding"):this.router.navigateByUrl("/tenants")}},{key:"registerNewUserBy",value:function(e){console.log("capturing events",event),Object.assign(e,{createdBy:this.yauthservice.getCurrentUserId(),uid:this.yauthservice.getCurrentUserId()}),this.ydataservice.addMartimonialProfile(e)}},{key:"isItOwner",value:function(){return!(!this.edittenant||!this.edittenant.createdBy)&&this.ygen.isItOwner(this.edittenant.createdBy)}},{key:"registerNewUser",value:function(e){this.yauthservice.registerMatrimonialProfile(e).subscribe((function(e){console.log(e)}))}},{key:"isTenantSelection",value:function(){return this.ystorageservice.isTenantSelection()}},{key:"ionViewDidLeave",value:function(){console.log("leaving"),this.ystorageservice.removeItem(s.R.SELECTED_TENANT)}},{key:"setTempdata",value:function(e){console.log(e);var t=JSON.parse(e.target.value),i=""+t.dob.month;1==i.length&&(i="0"+i);var n=""+t.dob.date;1==n.length&&(n="0"+n);var r=l(t.dob.year+"-"+i+"-"+n);this.newuser={userid:t.email,password:"123456",aboutfamily:"",addedby:"SELF",address:"",approved:!1,city:t.city,country:"INDIA",dob:+r,education:t.education,emailVerified:!1,employeed:t.employeed,expectation:"",featured:!1,firstname:t.fname,gender:"MALE",gotra:"",heightfeet:"5",heightinches:"7",isadmin:!1,lastname:t.sname,maritialstatus:"NEVER MARRIED",middlename:t.mname,mobileVerified:!1,nativecity:"",nickname:t.nname,paid:!1,phoneNumber:t.phone,photo:t.imageUrl,profession:"",professionaldeatil:"",profileid:this.randomletter()+this.randomletter()+~~(1e3*Math.random()),salary:"",state:"",zip:"",userName:t.fname+" "+t.sname},console.log("yeah",this.newuser)}},{key:"doit",value:function(){this.newuser&&this.registerNewUser(this.newuser)}}]),e}(),f.\u0275fac=function(e){return new(e||f)(d.bc(s.fb),d.bc(s.S),d.bc(s.U),d.bc(s.Q),d.bc(c.d),d.bc(s.M),d.bc(s.db),d.bc(s.R),d.bc(a.j),d.bc(a.a),d.bc(d.G),d.bc(s.T))},f.\u0275cmp=d.Vb({type:f,selectors:[["app-register"]],decls:16,vars:7,consts:[[3,"color"],["slot","start"],["align-items-center","","text-center","",4,"ngIf"],[1,"box"],[3,"captchaOn","captchaName","whatform","whatformgroup","whichbuttons","actionEvent","cancelEvent",4,"ngIf"],["align-items-center","","text-center",""],["position","stacked"],["type","url","value","",3,"ionInput"],[3,"formGroup"],["type","password","formControlName","newpassword","clearInput","true","required","true","value",""],["type","password","formControlName","confirmpassword","clearInput","true","required","true","value",""],["color","danger"],["padding-left","",3,"hidden"],["expand","block","fill","outline",3,"disabled","click"],[3,"captchaOn","captchaName","whatform","whatformgroup","whichbuttons","actionEvent","cancelEvent"]],template:function(e,t){1&e&&(d.hc(0,"ion-header"),d.hc(1,"ion-toolbar",0),d.hc(2,"ion-buttons",1),d.cc(3,"ion-menu-button"),d.gc(),d.hc(4,"ion-title"),d.Xc(5),d.uc(6,"translate"),d.gc(),d.gc(),d.gc(),d.hc(7,"ion-content"),d.hc(8,"ion-grid"),d.Vc(9,p,6,0,"ion-row",2),d.Vc(10,m,19,3,"ion-row",2),d.hc(11,"ion-row"),d.hc(12,"ion-col"),d.hc(13,"mat-card"),d.hc(14,"mat-card-content",3),d.Vc(15,g,1,5,"yogagainv2-dyanamic-page",4),d.gc(),d.gc(),d.gc(),d.gc(),d.gc(),d.gc()),2&e&&(d.Ob(1),d.Cc("color",t.isTenantSelection()?"primary":"secondary"),d.Ob(4),d.Yc(d.vc(6,5,t.title)),d.Ob(4),d.Cc("ngIf",t.ygen.isLoggedIn()&&t.ygen.isAdmin()),d.Ob(1),d.Cc("ngIf",t.ygen.isLoggedIn()&&t.isItOwner()),d.Ob(5),d.Cc("ngIf",t.clear))},directives:[o.y,o.hb,o.j,o.N,o.fb,o.s,o.x,n.m,o.R,o.r,h.a,h.d,o.D,o.J,o.C,o.ub,r.A,r.q,r.i,r.p,r.g,r.w,o.cb,o.i,s.q],pipes:[u.c],styles:[""]}),f)}],b=((y=function e(){_classCallCheck(this,e)}).\u0275mod=d.Zb({type:y}),y.\u0275inj=d.Yb({factory:function(e){return new(e||y)},imports:[[n.c,r.j,r.v,o.ib,s.H,s.b,s.o,a.n.forChild(v)]]}),y)}}]);