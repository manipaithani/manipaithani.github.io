(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"01KP":function(e,t,c){"use strict";c.r(t),c.d(t,"NoticesPageModule",(function(){return k}));var i=c("ofXK"),n=c("3Pt+"),o=c("tyNb"),a=c("TEn/"),s=c("pwB6"),r=c("fXoL"),l=c("0IaG"),h=c("7EHt"),g=c("sYmb");const d=["yocameraelement"];function p(e,t){if(1&e){const e=r.ic();r.hc(0,"ion-buttons",5),r.hc(1,"ion-button",6),r.pc("click",(function(){return r.Nc(e),r.tc().navigate("addnotice",{})})),r.cc(2,"ion-icon",7),r.gc(),r.gc()}}function u(e,t){if(1&e&&r.cc(0,"img",26),2&e){const e=r.tc().$implicit;r.Cc("src",e.image,r.Pc)}}function m(e,t){if(1&e){const e=r.ic();r.hc(0,"div",29),r.hc(1,"div"),r.hc(2,"img",30),r.pc("click",(function(){r.Nc(e);const c=t.$implicit;return r.tc(3).ygen.openimage(c.src,"need to be upload")})),r.gc(),r.gc(),r.hc(3,"span"),r.hc(4,"ion-button",31),r.pc("click",(function(){r.Nc(e);const c=t.$implicit;return r.tc(3).deletephoto(c)})),r.cc(5,"ion-icon",32),r.gc(),r.hc(6,"ion-button",33),r.pc("click",(function(){r.Nc(e);const c=t.$implicit;return r.tc(3).savePhoto(c)})),r.cc(7,"ion-icon",34),r.gc(),r.gc(),r.gc()}if(2&e){const e=t.$implicit;r.Ob(2),r.Cc("src",e.src,r.Pc)}}function f(e,t){if(1&e){const e=r.ic();r.hc(0,"ion-button",31),r.pc("click",(function(){r.Nc(e);const t=r.tc().$implicit,c=r.tc(2).$implicit;return r.tc().deletesaved(t,c.$key)})),r.cc(1,"ion-icon",32),r.gc()}}function b(e,t){if(1&e){const e=r.ic();r.hc(0,"div",29),r.hc(1,"div"),r.hc(2,"img",30),r.pc("click",(function(){r.Nc(e);const c=t.$implicit;return r.tc(3).ygen.openimage(c.value.photo,"")})),r.gc(),r.gc(),r.hc(3,"span"),r.Vc(4,f,2,0,"ion-button",35),r.gc(),r.gc()}if(2&e){const e=t.$implicit,c=r.tc(3);r.Ob(2),r.Dc("src",e.value.photo,r.Pc),r.Ob(2),r.Cc("ngIf",c.ygen.canI(e.createdBy,"notice"))}}function v(e,t){if(1&e&&(r.hc(0,"div",27),r.Vc(1,m,8,1,"div",28),r.Vc(2,b,5,2,"div",28),r.uc(3,"keyvalue"),r.gc()),2&e){const e=r.tc().$implicit,t=r.tc();r.Ob(1),r.Cc("ngForOf",t.getstrip(e.$key,t.mystrip)),r.Ob(1),r.Cc("ngForOf",r.vc(3,2,e.images))}}function y(e,t){1&e&&(r.hc(0,"div"),r.Xc(1),r.uc(2,"translate"),r.gc()),2&e&&(r.Ob(1),r.Zc(" ",r.vc(2,1,"No Addtional Photos, click photos icon to add it"),". "))}function w(e,t){if(1&e){const e=r.ic();r.hc(0,"div",17),r.hc(1,"app-appicon",18),r.pc("actionEvent",(function(){r.Nc(e);const t=r.tc().$implicit;return r.tc().delete(t)})),r.gc(),r.gc()}2&e&&(r.Ob(1),r.Cc("color","accent")("icon","delete")("icontext","Delete")("isiconwithtext",!0))}function O(e,t){if(1&e){const e=r.ic();r.hc(0,"div",17),r.hc(1,"app-yocamera",36,37),r.pc("imagetobeuploaded",(function(t){r.Nc(e);const c=r.tc().$implicit;return r.tc().showpreview(t,c.$key)})),r.gc(),r.gc()}if(2&e){const e=r.tc().$implicit;r.Ob(1),r.Cc("whatkey",e.$key)}}function x(e,t){if(1&e){const e=r.ic();r.hc(0,"ion-card"),r.Vc(1,u,1,1,"img",8),r.hc(2,"div",9),r.Vc(3,v,4,4,"div",10),r.gc(),r.Vc(4,y,3,3,"ng-template",null,11,r.Wc),r.hc(6,"ion-item",12),r.pc("click",(function(){r.Nc(e);const c=t.$implicit;return r.tc().navigate("addnotice",{key:c.$key})})),r.hc(7,"ion-label",13),r.Xc(8),r.hc(9,"p"),r.Xc(10),r.uc(11,"date"),r.gc(),r.gc(),r.gc(),r.hc(12,"ion-item"),r.hc(13,"mat-expansion-panel",14),r.hc(14,"mat-expansion-panel-header"),r.hc(15,"mat-panel-title"),r.Xc(16," Actions "),r.gc(),r.gc(),r.hc(17,"div",15),r.Vc(18,w,2,4,"div",16),r.Vc(19,O,3,1,"div",16),r.hc(20,"div",17),r.hc(21,"app-appicon",18),r.pc("actionEvent",(function(){return r.Nc(e),r.tc().ygen.shareMessage("dada","","")})),r.gc(),r.gc(),r.gc(),r.gc(),r.gc(),r.hc(22,"ion-card-content"),r.Xc(23),r.gc(),r.hc(24,"ion-item"),r.hc(25,"div",19),r.hc(26,"div",20),r.hc(27,"div",21),r.Xc(28,"Creator"),r.gc(),r.hc(29,"div",22),r.Xc(30),r.gc(),r.gc(),r.hc(31,"div",23),r.hc(32,"div",24),r.cc(33,"app-callphone",25),r.gc(),r.gc(),r.gc(),r.gc(),r.gc()}if(2&e){const e=t.$implicit,c=r.tc();r.Ob(1),r.Cc("ngIf",e.imageuploaded),r.Ob(2),r.Cc("ngIf",c.getstrip(e.$key,c.mystrip).length>0||e.images),r.Ob(5),r.Zc(" ",e.title,""),r.Ob(2),r.Yc(r.wc(11,13,e.startdate,"MMM dd yyyy hh:mm a")),r.Ob(8),r.Cc("ngIf",c.ygen.canI("","notice")),r.Ob(1),r.Cc("ngIf",c.refreshme&&c.ygen.canI("","notice")),r.Ob(2),r.Cc("color","primary")("icon","share")("icontext","share")("isiconwithtext",!0),r.Ob(2),r.Zc(" ",e.description," "),r.Ob(7),r.Zc(" ",e.contactname," "),r.Ob(3),r.Cc("mobile",null==e?null:e.contactnumber)}}const C=[{path:"",component:(()=>{class e{constructor(e,t,c,i,n,o,a,r,l){this.ycamera=e,this.ygen=t,this.alertme=c,this.route=i,this.router=n,this.boardService=o,this.ysharedata=a,this.ydata=r,this.dialog=l,this.imagescapturedComp=new Map,this.screenrefresh=!0,this.mystrip=[],this.showre=!1,this.sourcere="",this.refreshme=!1,this.crudList=new s.p("/board/notices",r.getDatabase(),!0,this.ygen.getUid()),this.events=this.crudList.getList(),this.crudData=new s.p("/items",r.getDatabase(),!1,this.ygen.getUid()),this.settingItems=this.crudData.getData()}ngOnInit(){this.refreshCamera()}viewEntry(e){e.registration&&Object.keys(e.registration).map(t=>Object.assign(e.registration[t],{$key:t}))}navigate(e,t){this.ysharedata.setData("currentevent",t),this.router.navigate([e],{queryParams:t})}takeAcion(e){console.log("yeah",e)}doit(e,t){setTimeout(()=>{this.crudList.updateList(t?{$key:e.$key,active:!0,eventOver:!1}:{$key:e.$key,active:!1})},1e3)}closeEvent(e){this.screenrefresh=!1,this.alertme.question("Are You Sure?","Close Event","No").then(t=>{t.value&&setTimeout(()=>{this.crudList.updateList({$key:e.$key,active:!1,eventOver:!0})},1e3),this.screenrefresh=!0})}active(e){this.alertme.question("Are You Sure?","Activate Notice","No").then(t=>{t.value&&this.doit(e,!0)})}inactive(e){this.alertme.question("Are You Sure?","Disable Notice","No").then(t=>{t.value&&this.doit(e,!1)})}edit(e){this.alertme.question("Are You Sure?","Delete","No").then(t=>{t.value&&this.crudList.removefromList(e)})}delete(e){this.alertme.question("Are You Sure?","Delete","No").then(t=>{t.value&&setTimeout(()=>{this.crudList.removefromList(e)},1e3)})}showpreview(e,t){console.log("event",e),console.log("key",t),this.showre=!0,this.sourcere=e,this.mystrip.push(e)}getstrip(e,t){let c=t.filter(t=>t.whatfor===e);return console.log(c.length),c}deletfromStrip(e){this.mystrip=this.mystrip.filter(t=>t.whatfor!=e)}deletephoto(e){this.deletfromStrip(e.whatfor),this.refreshCamera()}refreshCamera(){this.refreshme=!1,setTimeout(()=>{this.refreshme=!0},100)}savePhoto(e){this.refreshCamera(),this.ygen.ismobile()?(this.alertme.infodata("Uploading and saving photo.."),this.yocam.saveMobileImage(e.src).then(t=>{console.log("what we have recieved image 1 "+t),console.log("what we have recieved image 1 "+t);const c=JSON.parse(t.response);console.log("we got the url...."+t.response),console.log("we got the url...."+c.secure_url),this.addImages(e.whatfor,{photo:c.secure_url}),this.deletephoto(e),this.alertme.successdata("Saved...")})):this.yocam.saveImage(e.files).then(t=>{console.log("what we have recieved image 2 "+t.secure_url),this.addImages(e.whatfor,{photo:t.secure_url}),this.deletephoto(e)})}addImages(e,t){new s.p("/board/notices/"+e+"/images",this.ydata.getDatabase(),!0,this.ygen.getUid()).addtolist(t)}deletesaved(e,t){this.alertme.question("Are You Sure?","Delete","No").then(c=>{c.value&&new s.p("/board/notices/"+t+"/images",this.ydata.getDatabase(),!0,this.ygen.getUid()).removefromList({$key:e.key})})}}return e.\u0275fac=function(t){return new(t||e)(r.bc(s.N),r.bc(s.T),r.bc(s.a),r.bc(o.a),r.bc(o.j),r.bc(s.i),r.bc(s.R),r.bc(s.Q),r.bc(l.b))},e.\u0275cmp=r.Vb({type:e,selectors:[["app-notices"]],viewQuery:function(e,t){var c;1&e&&(r.ed(d,!0),r.ed(d,!0)),2&e&&(r.Jc(c=r.qc())&&(t.yocam=c.first),r.Jc(c=r.qc())&&(t.yocamViewChildren=c))},decls:10,vars:5,consts:[[3,"color"],["slot","start"],["slot","end","color","secondary",4,"ngIf"],["padding",""],[4,"ngFor","ngForOf"],["slot","end","color","secondary"],[3,"click"],["slot","icon-only","name","add"],["class","imageshow",3,"src",4,"ngIf"],[1,"roll"],["id","scrolly",4,"ngIf"],["nophotos",""],["button","",3,"click"],[1,"ion-text-wrap"],[2,"width","100%"],[1,"container"],["class","item",4,"ngIf"],[1,"item"],[3,"color","icon","icontext","isiconwithtext","actionEvent"],[1,"infocontainer"],[1,"item","atstart"],[1,"whatlable"],[1,"forlable"],[1,"item","atend"],[2,"float","right","padding","5px"],[3,"mobile"],[1,"imageshow",3,"src"],["id","scrolly"],["class","imgds",4,"ngFor","ngForOf"],[1,"imgds"],[1,"imgc",3,"src","click"],["color","danger","size","small",1,"delete",3,"click"],["slot","icon-only","name","trash"],["size","small",1,"save",3,"click"],["slot","icon-only","name","save"],["color","danger","size","small","class","delete",3,"click",4,"ngIf"],[3,"whatkey","imagetobeuploaded"],["yocameraelement",""]],template:function(e,t){1&e&&(r.hc(0,"ion-header"),r.hc(1,"ion-toolbar",0),r.hc(2,"ion-buttons",1),r.cc(3,"ion-back-button"),r.gc(),r.hc(4,"ion-title"),r.Xc(5,"Notices"),r.gc(),r.Vc(6,p,3,0,"ion-buttons",2),r.gc(),r.gc(),r.hc(7,"ion-content",3),r.Vc(8,x,34,16,"ion-card",4),r.uc(9,"async"),r.gc()),2&e&&(r.Ob(1),r.Cc("color","warning"),r.Ob(5),r.Cc("ngIf",t.ygen.canI("","notice")),r.Ob(2),r.Cc("ngForOf",r.vc(9,3,t.events)))},directives:[a.y,a.hb,a.j,a.f,a.g,a.fb,i.m,a.s,i.l,a.i,a.z,a.k,a.D,a.J,h.c,h.f,h.g,s.f,a.l,s.j,s.X],pipes:[i.b,i.e,i.g,g.c],styles:["table[_ngcontent-%COMP%]{width:100%}.example-icon[_ngcontent-%COMP%]{padding:0 14px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-dialog-container[_ngcontent-%COMP%]{padding:0}.dada[_ngcontent-%COMP%]{position:absolute;width:375px;height:594px;left:-161.02px;top:471.39px;background:#f41515;border-radius:56px;transform:rotate(-50.6deg)}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:100%}.item[_ngcontent-%COMP%]{flex-grow:1}.infocontainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:100%}.atstart[_ngcontent-%COMP%]{align-self:flex-start}.atend[_ngcontent-%COMP%]{align-self:flex-end}mat-expansion-panel[_ngcontent-%COMP%]{background:#eff7f6}.imageshow[_ngcontent-%COMP%]{max-height:300px;max-width:500px;height:auto;width:auto;margin:auto;padding-bottom:10px}.addphotos[_ngcontent-%COMP%]{padding:0}#scrolly[_ngcontent-%COMP%]{width:100%;height:120px;overflow:auto;overflow-y:hidden;margin:0 auto;white-space:nowrap;display:inline-flex}.imgc[_ngcontent-%COMP%]{height:100px;width:100px;margin:2px 1px;display:inline;border:1px solid #ddd;border-radius:4px;padding:5px}.roll[_ngcontent-%COMP%]{background-color:#000;padding:5px}.imgds[_ngcontent-%COMP%]{height:100px;display:inline}.imagearea[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:hidden;-webkit-overflow-scrolling:touch;display:-webkit-inline-box;border:#0f03f4;border-style:solid;border-width:2px}.delete[_ngcontent-%COMP%], .save[_ngcontent-%COMP%]{position:relative;top:-37px}.whatlable[_ngcontent-%COMP%]{font-size:12px;font-family:cursive}"]}),e})()}];let k=(()=>{class e{}return e.\u0275mod=r.Zb({type:e}),e.\u0275inj=r.Yb({factory:function(t){return new(t||e)},imports:[[i.c,n.j,a.ib,s.H,s.o,s.b,o.n.forChild(C)]]}),e})()}}]);